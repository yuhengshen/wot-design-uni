import{d as s,x as e,y as t,q as a,e as o,f as l,w as n,z as i,u as c,i as r,h as u,t as m,F as d,n as p,A as f,k as w,r as S,b as _,c as h,g as v,ag as b}from"./index-ddWhPHnE.js";import{O as g,b as j,l as k,d as H,c as y,_ as x}from"./wd-icon.CdzlT4Xd.js";import{u as D}from"./useCountDown.DAdZ0B3S.js";import{_ as I}from"./demo-block.C_jTIrrw.js";import{_ as C,a as A}from"./wd-grid.CJzfel7Z.js";import{a as F,b as $,_ as q}from"./page-wraper.DJ6J_9uw.js";import"./index.CM-GNf6Q.js";import"./useRaf.DOkuWOZk.js";import"./wd-badge.C0Zs2Wt8.js";import"./wd-cell.DKtYKzk0.js";import"./useChildren.8_evwfA-.js";const z=x(s({name:"wd-count-down",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...j,time:k(Number),millisecond:H(!1),format:y("HH:mm:ss"),autoStart:H(!0)},emits:["change","finish"],setup(s,{expose:S,emit:_}){const h=s,v=_,{start:b,pause:j,reset:k,current:H}=D({time:h.time,millisecond:h.millisecond,onChange:s=>v("change",s),onFinish:()=>v("finish")}),y=e((()=>function(s,e){const{days:t}=e;let{hours:a,minutes:o,seconds:l,milliseconds:n}=e;if(s.includes("DD")?s=s.replace("DD",g(t)):a+=24*t,s.includes("HH")?s=s.replace("HH",g(a)):o+=60*a,s.includes("mm")?s=s.replace("mm",g(o)):l+=60*o,s.includes("ss")?s=s.replace("ss",g(l)):n+=1e3*l,s.includes("S")){const e=g(n,3);s=s.includes("SSS")?s.replace("SSS",e):s.includes("SS")?s.replace("SS",e.slice(0,2)):s.replace("S",e.charAt(0))}return s}(h.format,H.value))),x=()=>{k(h.time),h.autoStart&&b()};return t((()=>h.time),x,{immediate:!1}),a((()=>{x()})),S({start:b,pause:j,reset:x}),(s,e)=>{const t=w;return o(),l(t,{class:p(`wd-count-down ${s.customClass}`),style:f(s.customStyle)},{default:n((()=>[s.$slots.default?i(s.$slots,"default",{key:0,current:c(H)},void 0,!0):(o(),r(d,{key:1},[u(m(y.value),1)],64))])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-6584e3ac"]]),E=x(s({__name:"Index",setup(s){const{show:e}=F(),t=S(108e6),a=S(),i=()=>{a.value.start()},c=()=>{a.value.pause()},r=()=>{a.value.reset()},u=()=>e("倒计时结束");return(s,e)=>{const d=_(h("wd-count-down"),z),p=_(h("demo-block"),I),f=_(h("wd-grid-item"),C),w=_(h("wd-grid"),A),S=_(h("wd-toast"),$),g=_(h("page-wraper"),q);return o(),l(g,null,{default:n((()=>[v(p,{title:"基本用法"},{default:n((()=>[v(d,{time:t.value},null,8,["time"])])),_:1}),v(p,{title:"自定义格式"},{default:n((()=>[v(d,{time:t.value,format:"DD 天 HH 时 mm 分 ss 秒"},null,8,["time"])])),_:1}),v(p,{title:"毫秒级渲染"},{default:n((()=>[v(d,{time:t.value,millisecond:"",format:"HH:mm:ss:SS"},null,8,["time"])])),_:1}),v(p,{title:"自定义样式"},{default:n((()=>[v(d,{time:t.value},{default:n((({current:s})=>[b("span",{class:"custom-count-down"},m(s.hours),1),b("span",{class:"custom-count-down-colon"},":"),b("span",{class:"custom-count-down"},m(s.minutes),1),b("span",{class:"custom-count-down-colon"},":"),b("span",{class:"custom-count-down"},m(s.seconds),1)])),_:1},8,["time"])])),_:1}),v(p,{title:"手动控制"},{default:n((()=>[v(d,{ref_key:"countDown",ref:a,time:3e3,millisecond:"","auto-start":!1,format:"ss:SSS",onFinish:u},null,512),v(w,{clickable:"",border:""},{default:n((()=>[v(f,{text:"开始",icon:"play-circle-stroke",onItemclick:i}),v(f,{text:"暂停",icon:"pause-circle",onItemclick:c}),v(f,{text:"重置",icon:"refresh",onItemclick:r})])),_:1})])),_:1}),v(S)])),_:1})}}}),[["__scopeId","data-v-06491b94"]]);export{E as default};
