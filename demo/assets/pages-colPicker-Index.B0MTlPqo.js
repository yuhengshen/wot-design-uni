import{a as l,b as e,_ as a}from"./page-wraper.DJ6J_9uw.js";import{d as u,q as o,r as n,b as m,c as t,e as d,f as s,w as c,g as r,h as v,t as i,k as p}from"./index-ddWhPHnE.js";import{u as V,_ as b}from"./useColPickerData.CDcgbBEq.js";import{_ as g}from"./wd-cell-group.Bs14hx2Q.js";import{_ as f}from"./demo-block.C_jTIrrw.js";import{_ as h}from"./wd-button.D-L9G8tD.js";import"./wd-icon.CdzlT4Xd.js";import"./index.CM-GNf6Q.js";import"./wd-cell.DKtYKzk0.js";import"./wd-action-sheet.DPz_7n2j.js";import"./useTranslate.D-OItNaP.js";import"./useChildren.8_evwfA-.js";const _=u({__name:"Index",setup(u){const{colPickerData:_,findChildrenByCode:x}=V(),U=l();o((async()=>{U.loading("数据加载中"),await W(),U.close(),j.value=["150000","150100","150121"]}));const w=n([]),j=n([]),y=n(["130000","130200","130204"]),k=n([]),C=n([]),I=n(["130000","130200","130204"]),q=n([]),P=n([]),T=n([]),B=n([]),D=n([]),z=n([]),E=n([]),M=n([]),S=n([]),A=n(""),F=n([_.map((l=>({value:l.value,label:l.text})))]),G=n([]),H=n([_.map((l=>({value:l.value,label:l.text}))),x(_,"130000").map((l=>({value:l.value,label:l.text}))),x(_,"130200").map((l=>({value:l.value,label:l.text})))]),J=n([_.map((l=>({value:l.value,label:l.text,disabled:"140000"===l.value})))]),K=n([_.map((l=>({value:l.value,label:l.text,disabled:"140000"===l.value,tip:"140000"===l.value?"该地区无货，暂时无法选择":"150000"===l.value?"该地区配送时间可能较长":""})))]),L=({selectedItem:l,resolve:e,finish:a})=>{const u=x(_,l.value);u&&u.length?e(u.map((l=>({value:l.value,label:l.text})))):a()},N=async({selectedItem:l,resolve:e,finish:a})=>{await W(.3);const u=x(_,l.value);u&&u.length?e(u.map((l=>({value:l.value,label:l.text})))):a()},O=({selectedItem:l,resolve:e,finish:a})=>{setTimeout((()=>{if(Math.random()>.7)return a(!1),void U.error("数据请求失败，请重试");const u=x(_,l.value);u&&u.length?e(u.map((l=>({value:l.value,label:l.text})))):a()}),300)},Q=l=>l[l.length-2].label+"-"+l[l.length-1].label,R=(l,e,a)=>{parseInt(String(l[2]))>12e4?(U.error("该地区库存不足"),a(!1)):a(!0)};function W(l=1){return new Promise((e=>{setTimeout((()=>{e(!0)}),1e3*l)}))}function X({selectedItems:l}){A.value=l.map((l=>l.label)).join("")}function Y({value:l}){console.log(l)}return(l,u)=>{const o=m(t("wd-toast"),e),n=m(t("wd-col-picker"),b),V=m(t("wd-cell-group"),g),_=p,x=m(t("demo-block"),f),U=m(t("wd-button"),h),W=m(t("page-wraper"),a);return d(),s(W,null,{default:c((()=>[r(o),r(_,{style:{margin:"20px 0"}},{default:c((()=>[r(V,{border:""},{default:c((()=>[r(n,{label:"选择地址",modelValue:w.value,"onUpdate:modelValue":u[0]||(u[0]=l=>w.value=l),columns:F.value,"column-change":L,onConfirm:Y},null,8,["modelValue","columns"]),r(n,{label:"初始选项",modelValue:j.value,"onUpdate:modelValue":u[1]||(u[1]=l=>j.value=l),columns:G.value,"column-change":N,"auto-complete":""},null,8,["modelValue","columns"]),r(n,{label:"禁用",disabled:"",modelValue:y.value,"onUpdate:modelValue":u[2]||(u[2]=l=>y.value=l),columns:H.value,"column-change":L},null,8,["modelValue","columns"]),r(n,{label:"只读",readonly:"",modelValue:y.value,"onUpdate:modelValue":u[3]||(u[3]=l=>y.value=l),columns:H.value,"column-change":L},null,8,["modelValue","columns"]),r(n,{label:"禁用选项",modelValue:k.value,"onUpdate:modelValue":u[4]||(u[4]=l=>k.value=l),columns:J.value,"column-change":L},null,8,["modelValue","columns"]),r(n,{label:"选项提示信息",modelValue:C.value,"onUpdate:modelValue":u[5]||(u[5]=l=>C.value=l),columns:K.value,"column-change":L},null,8,["modelValue","columns"]),r(n,{label:"展示格式化",modelValue:I.value,"onUpdate:modelValue":u[6]||(u[6]=l=>I.value=l),columns:H.value,"column-change":L,"display-format":Q},null,8,["modelValue","columns"]),r(n,{label:"标题",modelValue:q.value,"onUpdate:modelValue":u[7]||(u[7]=l=>q.value=l),title:"选择地址",columns:F.value,"column-change":L},null,8,["modelValue","columns"]),r(n,{label:"before-confirm",modelValue:P.value,"onUpdate:modelValue":u[8]||(u[8]=l=>P.value=l),columns:F.value,"column-change":L,"before-confirm":R},null,8,["modelValue","columns"]),r(n,{label:"错误",error:"",modelValue:T.value,"onUpdate:modelValue":u[9]||(u[9]=l=>T.value=l),columns:F.value,"column-change":L},null,8,["modelValue","columns"]),r(n,{label:"必填",required:"",modelValue:B.value,"onUpdate:modelValue":u[10]||(u[10]=l=>B.value=l),columns:F.value,"column-change":L},null,8,["modelValue","columns"])])),_:1})])),_:1}),r(x,{title:"一般column-change是个异步获取数据的操作，触发column-change组件会有默认loading，数据响应后关闭loading",transparent:""},{default:c((()=>[r(n,{label:"选择地址",modelValue:D.value,"onUpdate:modelValue":u[11]||(u[11]=l=>D.value=l),columns:F.value,"column-change":O},null,8,["modelValue","columns"])])),_:1}),r(x,{title:"label不传",transparent:""},{default:c((()=>[r(n,{modelValue:z.value,"onUpdate:modelValue":u[12]||(u[12]=l=>z.value=l),columns:F.value,"column-change":L},null,8,["modelValue","columns"])])),_:1}),r(x,{title:"大小",transparent:""},{default:c((()=>[r(n,{label:"选择地址",modelValue:E.value,"onUpdate:modelValue":u[13]||(u[13]=l=>E.value=l),size:"large",columns:F.value,"column-change":L},null,8,["modelValue","columns"])])),_:1}),r(x,{title:"值靠右展示",transparent:""},{default:c((()=>[r(n,{label:"选择地址","align-right":"",modelValue:M.value,"onUpdate:modelValue":u[14]||(u[14]=l=>M.value=l),columns:F.value,"column-change":L},null,8,["modelValue","columns"])])),_:1}),r(x,{title:"自定义选择器",transparent:""},{default:c((()=>[r(_,{style:{"margin-left":"15px"}},{default:c((()=>[r(_,{style:{"margin-bottom":"10px"}},{default:c((()=>[v("当前选中项: "+i(A.value),1)])),_:1}),r(n,{modelValue:S.value,"onUpdate:modelValue":u[15]||(u[15]=l=>S.value=l),"use-default-slot":"",columns:F.value,"column-change":L,style:{display:"inline-block"},onConfirm:X},{default:c((()=>[r(U,null,{default:c((()=>[v("选择地址")])),_:1})])),_:1},8,["modelValue","columns"])])),_:1})])),_:1})])),_:1})}}});export{_ as default};
