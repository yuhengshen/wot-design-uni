import{d as e,r as a,y as s,e as t,f as l,w as n,g as o,n as c,A as i,h as d,t as u,s as r,i as m,j as _,F as p,z as f,k as h,a1 as k,p as w}from"./index-ddWhPHnE.js";import{e as y,g}from"./page-wraper.DJ6J_9uw.js";import{b,c as x,d as C,l as v,n as z,m as I,w as $,e as A,_ as V}from"./wd-icon.CdzlT4Xd.js";const j=V(e({name:"wd-action-sheet",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...b,customHeaderClass:x(""),modelValue:{...C(!1),...v(Boolean)},actions:z(),panels:z(),title:String,cancelText:String,closeOnClickAction:C(!0),closeOnClickModal:C(!0),duration:I(200),zIndex:I(10),lazyRender:C(!0),safeAreaInsetBottom:C(!0)},emits:["select","click-modal","cancel","closed","close","open","opened","update:modelValue"],setup(e,{emit:b}){const x=e,C=b,v=a([]),z=a(!1);function I(){return x.panels.length&&!A(x.panels[0])}function V(e,a,s){if("action"===a){if(x.actions[e].disabled||x.actions[e].loading)return;C("select",{item:x.actions[e],index:e})}else I()?C("select",{item:x.panels[Number(s)],index:s}):C("select",{item:x.panels[e][Number(s)],rowIndex:e,colIndex:s});x.closeOnClickAction&&B()}function j(){C("click-modal")}function O(){C("cancel"),B()}function B(){C("update:modelValue",!1),C("close")}function H(){C("open")}function M(){C("opened")}function S(){C("closed")}return s((()=>x.panels),(function(){v.value=I()?[x.panels]:x.panels}),{deep:!0,immediate:!0}),s((()=>x.modelValue),(e=>{z.value=e}),{deep:!0,immediate:!0}),(e,a)=>{const s=h,b=k,x=w;return t(),l(s,null,{default:n((()=>[o(y,{"custom-class":"wd-action-sheet__popup","custom-style":""+(e.actions&&e.actions.length||e.panels&&e.panels.length?"background: transparent;":""),modelValue:z.value,"onUpdate:modelValue":a[0]||(a[0]=e=>z.value=e),duration:e.duration,position:"bottom","close-on-click-modal":e.closeOnClickModal,"safe-area-inset-bottom":e.safeAreaInsetBottom,"lazy-render":e.lazyRender,onEnter:H,onClose:B,onAfterEnter:M,onAfterLeave:S,onClickModal:j,"z-index":e.zIndex},{default:n((()=>[o(s,{class:c(`wd-action-sheet ${e.customClass}`),style:i(`${e.actions&&e.actions.length||e.panels&&e.panels.length?"margin: 0 10px calc(var(--window-bottom) + 10px) 10px; border-radius: 16px;":"margin-bottom: var(--window-bottom);"} ${e.customStyle}`)},{default:n((()=>[e.title?(t(),l(s,{key:0,class:c(`wd-action-sheet__header ${e.customHeaderClass}`)},{default:n((()=>[d(u(e.title)+" ",1),o($,{"custom-class":"wd-action-sheet__close",name:"add",onClick:B})])),_:1},8,["class"])):r("",!0),e.actions&&e.actions.length?(t(),l(s,{key:1,class:"wd-action-sheet__actions"},{default:n((()=>[(t(!0),m(p,null,_(e.actions,((e,a)=>(t(),l(b,{key:a,class:c(`wd-action-sheet__action ${e.disabled?"wd-action-sheet__action--disabled":""}  ${e.loading?"wd-action-sheet__action--loading":""}`),style:i(`color: ${e.color}`),onClick:e=>V(a,"action")},{default:n((()=>[e.loading?(t(),l(g,{key:0,"custom-class":"`wd-action-sheet__action-loading"})):(t(),l(s,{key:1,class:"wd-action-sheet__name"},{default:n((()=>[d(u(e.name),1)])),_:2},1024)),!e.loading&&e.subname?(t(),l(s,{key:2,class:"wd-action-sheet__subname"},{default:n((()=>[d(u(e.subname),1)])),_:2},1024)):r("",!0)])),_:2},1032,["class","style","onClick"])))),128))])),_:1})):r("",!0),v.value&&v.value.length?(t(),l(s,{key:2},{default:n((()=>[(t(!0),m(p,null,_(v.value,((e,a)=>(t(),l(s,{key:a,class:"wd-action-sheet__panels"},{default:n((()=>[o(s,{class:"wd-action-sheet__panels-content"},{default:n((()=>[(t(!0),m(p,null,_(e,((e,c)=>(t(),l(s,{key:c,class:"wd-action-sheet__panel",onClick:e=>V(a,"panels",c)},{default:n((()=>[o(x,{class:"wd-action-sheet__panel-img",src:e.iconUrl},null,8,["src"]),o(s,{class:"wd-action-sheet__panel-title"},{default:n((()=>[d(u(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1})):r("",!0),f(e.$slots,"default",{},void 0,!0),e.cancelText?(t(),l(b,{key:3,class:"wd-action-sheet__cancel",onClick:O},{default:n((()=>[d(u(e.cancelText),1)])),_:1})):r("",!0)])),_:3},8,["class","style"])])),_:3},8,["custom-style","modelValue","duration","close-on-click-modal","safe-area-inset-bottom","lazy-render","z-index"])])),_:3})}}}),[["__scopeId","data-v-e5de16b2"]]);export{j as _};
