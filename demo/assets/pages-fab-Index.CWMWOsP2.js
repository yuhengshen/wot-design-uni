import{w as e,q as a,a as t,d as l,b as o,c as s,_ as u}from"./page-wraper.DJ6J_9uw.js";import{d as i,r as d,S as c,y as n,a0 as r,x as m,q as v,X as p,e as f,f as b,w as _,g as h,z as g,C as w,A as y,s as x,n as k,D as C,k as V,L as T,b as j,c as z,i as I,h as L,u as $,F as U}from"./index-ddWhPHnE.js";import{_ as O,a as Q}from"./wd-radio-group.Bgv59YnE.js";import{_ as q}from"./demo-block.C_jTIrrw.js";import{_ as F}from"./wd-button.D-L9G8tD.js";import{b as H,d as X,c as S,m as W,w as Y,i as A,o as D,g as E,T as G,_ as J}from"./wd-icon.CdzlT4Xd.js";import{p as R,r as B,c as K}from"./clickoutside.CJmLG0WC.js";import{u as M}from"./useRaf.DOkuWOZk.js";import"./index.CM-GNf6Q.js";import"./wd-cell.DKtYKzk0.js";import"./useChildren.8_evwfA-.js";const N=J(i({name:"wd-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...H,active:X(!1),type:S("primary"),position:S("right-bottom"),direction:S("top"),disabled:X(!1),inactiveIcon:S("add"),activeIcon:S("close"),zIndex:W(99),draggable:X(!1),gap:{type:Object,default:()=>({})},expandable:X(!0)},emits:["update:active","click"],setup(t,{expose:l,emit:o}){const s=t,u=o,i=d(!1),j=d(!1),z=c(a,null),{proxy:I}=C();n((()=>s.active),(e=>{j.value=e}),{immediate:!0,deep:!0}),n((()=>j.value),(e=>{e&&(z&&z.closeOther?z.closeOther(I):K(I))}));const L=d(s.direction);n((()=>s.direction),(e=>L.value=e)),n((()=>s.position),(()=>H()));const $=d(0),U=d(0),O=r({width:0,height:0}),Q=r({width:56,height:56}),q=r({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function H(){const e=s.position,{minLeft:a,minTop:t,maxLeft:l,maxTop:o}=q,u=(o+t)/2,i=(l+a)/2;switch(e){case"left-top":$.value=t,U.value=a;break;case"right-top":$.value=t,U.value=l;break;case"left-bottom":$.value=o,U.value=a;break;case"right-bottom":$.value=o,U.value=l;break;case"left-center":$.value=u,U.value=a;break;case"right-center":$.value=u,U.value=l;break;case"top-center":$.value=t,U.value=i;break;case"bottom-center":$.value=o,U.value=i}}const X=r({x:0,y:0}),S=d(!1);function W(e){if(!1===s.draggable)return;const a=e.touches[0];X.x=a.clientX-U.value,X.y=a.clientY-$.value,S.value=!1}function J(e){if(!1===s.draggable)return;const a=e.touches[0],{minLeft:t,minTop:l,maxLeft:o,maxTop:u}=q;let i=a.clientX-X.x,d=a.clientY-X.y;i<t?i=t:i>o&&(i=o),d<l?d=l:d>u&&(d=u),$.value=d,U.value=i}function N(){if(!1===s.draggable)return;const e=O.width/2,a=U.value+Q.width/2;S.value=!0,a<e?(U.value=q.minLeft,L.value="right"):(U.value=q.maxLeft,L.value="left")}const P=m((()=>{const e={top:$.value+"px",left:U.value+"px",transition:S.value?"all ease 0.3s":"none"};return A(s.zIndex)&&(e["z-index"]=s.zIndex),`${D(e)};${s.customStyle}`}));function Z(){s.disabled||(s.expandable?(j.value=!j.value,u("update:active",j.value)):u("click"))}return v((()=>{z&&z.pushToQueue?z.pushToQueue(I):R(I);const{start:e}=M((async()=>{await async function(){const e=T();try{const e=await E("#trigger",!1,I);Q.width=e.width||56,Q.height=e.height||56}catch(u){console.log(u)}const{top:a=16,left:t=16,right:l=16,bottom:o=16}=s.gap;O.width=e.windowWidth,O.height=G?e.windowTop+e.windowHeight:e.windowHeight,q.minTop=G?e.windowTop+a:a,q.minLeft=t,q.maxLeft=O.width-Q.width-l,q.maxTop=O.height-Q.height-o}(),H(),i.value=!0}));e()})),p((()=>{z&&z.removeFromQueue?z.removeFromQueue(I):B(I)})),l({open:function(){j.value=!0,u("update:active",!0)},close:function(){j.value=!1,u("update:active",!1)}}),(a,t)=>{const l=V;return f(),b(l,{onTouchmove:w(J,["stop","prevent"]),onTouchstart:W,onTouchend:N,class:k(`wd-fab ${a.customClass}`),style:y(P.value),onClick:t[1]||(t[1]=w((()=>{}),["stop"]))},{default:_((()=>[h(l,{onClick:t[0]||(t[0]=w((()=>{}),["stop"])),style:y({visibility:i.value?"visible":"hidden"}),id:"trigger"},{default:_((()=>[a.$slots.trigger?g(a.$slots,"trigger",{key:0},void 0,!0):(f(),b(F,{key:1,onClick:Z,"custom-class":"wd-fab__trigger",round:"",type:a.type,disabled:a.disabled},{default:_((()=>[h(Y,{"custom-class":"wd-fab__icon",name:j.value?a.activeIcon:a.inactiveIcon},null,8,["name"])])),_:1},8,["type","disabled"]))])),_:3},8,["style"]),a.expandable?(f(),b(e,{key:0,"enter-class":`wd-fab__transition-enter--${L.value}`,"enter-active-class":"wd-fab__transition-enter-active","leave-to-class":`wd-fab__transition-leave-to--${L.value}`,"leave-active-class":"wd-fab__transition-leave-active","custom-class":`wd-fab__actions wd-fab__actions--${L.value}`,show:j.value,duration:300},{default:_((()=>[g(a.$slots,"default",{},void 0,!0)])),_:3},8,["enter-class","leave-to-class","custom-class","show"])):x("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-26a86e7e"]]),P=J(i({__name:"Index",setup(e){const{show:a}=t(),i=d(!1),c=d("primary"),n=d("left-bottom"),r=d("top"),m=d(!1),v=d(!1),p=d(!1),{closeOutside:g}=l();function y(){a("分享给朋友")}return(e,t)=>{const l=j(z("wd-toast"),o),d=j(z("wd-radio"),O),x=j(z("wd-radio-group"),Q),k=j(z("demo-block"),q),C=j(z("wd-switch"),s),T=V,H=j(z("wd-button"),F),X=j(z("wd-icon"),Y),S=j(z("wd-fab"),N),W=j(z("page-wraper"),u);return f(),I(U,null,[h(l),h(T,{class:"fab",onClick:$(g)},{default:_((()=>[h(W,null,{default:_((()=>[h(k,{title:"悬浮按钮主题色"},{default:_((()=>[h(x,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),inline:"",shape:"dot"},{default:_((()=>[h(d,{value:"primary","custom-class":"custom-radio"},{default:_((()=>[L("主要按钮")])),_:1}),h(d,{value:"success","custom-class":"custom-radio"},{default:_((()=>[L("成功按钮")])),_:1}),h(d,{value:"warning","custom-class":"custom-radio"},{default:_((()=>[L("警告按钮")])),_:1}),h(d,{value:"error","custom-class":"custom-radio"},{default:_((()=>[L("危险按钮")])),_:1}),h(d,{value:"info","custom-class":"custom-radio"},{default:_((()=>[L("信息按钮")])),_:1})])),_:1},8,["modelValue"])])),_:1}),h(k,{title:"悬浮按钮位置"},{default:_((()=>[h(x,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),inline:"",shape:"dot"},{default:_((()=>[h(d,{value:"left-top","custom-class":"custom-radio"},{default:_((()=>[L("左上")])),_:1}),h(d,{value:"right-top","custom-class":"custom-radio"},{default:_((()=>[L("右上")])),_:1}),h(d,{value:"left-center","custom-class":"custom-radio"},{default:_((()=>[L("左中")])),_:1}),h(d,{value:"right-center","custom-class":"custom-radio"},{default:_((()=>[L("右中")])),_:1}),h(d,{value:"top-center","custom-class":"custom-radio"},{default:_((()=>[L("上中")])),_:1}),h(d,{value:"bottom-center","custom-class":"custom-radio"},{default:_((()=>[L("下中")])),_:1}),h(d,{value:"left-bottom","custom-class":"custom-radio"},{default:_((()=>[L("左下")])),_:1}),h(d,{value:"right-bottom","custom-class":"custom-radio"},{default:_((()=>[L("右下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),h(k,{title:"菜单弹出方向"},{default:_((()=>[h(x,{modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value=e),inline:"",shape:"dot"},{default:_((()=>[h(d,{value:"top","custom-class":"custom-radio"},{default:_((()=>[L("向上")])),_:1}),h(d,{value:"bottom","custom-class":"custom-radio"},{default:_((()=>[L("向下")])),_:1}),h(d,{value:"right","custom-class":"custom-radio"},{default:_((()=>[L("向右")])),_:1}),h(d,{value:"left","custom-class":"custom-radio"},{default:_((()=>[L("向左")])),_:1})])),_:1},8,["modelValue"])])),_:1}),h(k,{title:"禁用"},{default:_((()=>[h(T,{onClick:t[4]||(t[4]=w((()=>{}),["stop"]))},{default:_((()=>[h(C,{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),h(k,{title:"可拖动"},{default:_((()=>[h(T,{onClick:t[6]||(t[6]=w((()=>{}),["stop"]))},{default:_((()=>[h(C,{modelValue:v.value,"onUpdate:modelValue":t[5]||(t[5]=e=>v.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),h(k,{title:"切换展示"},{default:_((()=>[h(T,{onClick:t[8]||(t[8]=w((()=>{}),["stop"]))},{default:_((()=>[h(H,{type:"primary",onClick:t[7]||(t[7]=e=>i.value=!i.value),round:""},{default:_((()=>[L("切换")])),_:1})])),_:1})])),_:1}),h(k,{title:"自定义触发器"},{default:_((()=>[h(T,{onClick:t[10]||(t[10]=w((()=>{}),["stop"]))},{default:_((()=>[h(C,{modelValue:p.value,"onUpdate:modelValue":t[9]||(t[9]=e=>p.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),p.value?(f(),b(S,{key:1,position:"left-bottom",draggable:v.value,expandable:!1},{trigger:_((()=>[h(H,{onClick:y,icon:"share",type:"error"},{default:_((()=>[L("分享给朋友")])),_:1})])),_:1},8,["draggable"])):(f(),b(S,{key:0,active:i.value,"onUpdate:active":t[15]||(t[15]=e=>i.value=e),disabled:m.value,type:c.value,position:n.value,direction:r.value,draggable:v.value,onClick:t[16]||(t[16]=e=>$(a)("我被点了"))},{default:_((()=>[h(H,{onClick:t[11]||(t[11]=e=>$(a)("一键三连")),disabled:m.value,"custom-class":"custom-button",type:"primary",round:""},{default:_((()=>[h(X,{name:"github-filled",size:"22px"})])),_:1},8,["disabled"]),h(H,{onClick:t[12]||(t[12]=e=>$(a)("我要收藏")),disabled:m.value,"custom-class":"custom-button",type:"success",round:""},{default:_((()=>[h(X,{name:"star",size:"22px"})])),_:1},8,["disabled"]),h(H,{onClick:t[13]||(t[13]=e=>$(a)("我要投币")),disabled:m.value,"custom-class":"custom-button",type:"error",round:""},{default:_((()=>[h(X,{name:"money-circle",size:"22px"})])),_:1},8,["disabled"]),h(H,{onClick:t[14]||(t[14]=e=>$(a)("我要点赞")),disabled:m.value,"custom-class":"custom-button",type:"warning",round:""},{default:_((()=>[h(X,{name:"thumb-up",size:"22px"})])),_:1},8,["disabled"])])),_:1},8,["active","disabled","type","position","direction","draggable"]))])),_:1})])),_:1},8,["onClick"])],64)}}}),[["__scopeId","data-v-257bf4bc"]]);export{P as default};
