import{d as e,r as l,b as t,c as i,e as a,f as s,w as o,g as n,h as u,t as f,al as c,k as r}from"./index-ddWhPHnE.js";import{u as d,_ as m}from"./wd-message-box.Bd4DmdxK.js";import{a as p,b as g,_ as v}from"./page-wraper.DJ6J_9uw.js";import{_ as h}from"./wd-upload.D0SOqtke.js";import{_}from"./demo-block.C_jTIrrw.js";import{_ as w}from"./wd-button.D-L9G8tD.js";import{_ as b}from"./wd-icon.CdzlT4Xd.js";import"./index.CM-GNf6Q.js";import"./wd-input.DGujkWcB.js";import"./wd-cell.DKtYKzk0.js";import"./useTranslate.D-OItNaP.js";const j="https://mockapi.eolink.com/zhTuw2P8c29bc981a741931bdd86eb04dc1e8fd64865cb5/upload",L=b(e({__name:"Index",setup(e){const b=l([{url:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/panda.jpg"}]),L=l([]);l([{url:"https://img12.360buyimg.com//n0/jfs/t1/29118/6/4823/55969/5c35c16bE7c262192/c9fdecec4b419355.jpg"}]);const C=l([]),y=l([]),k=l([]),x=l([]),P=l([]),U=l([]),F=l([]),T=l([]);l([]),l([]);const E=l([]),M=l([]),I=l([]),N=l([{url:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/panda.jpg",name:"panda"}]),S=l([{url:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/panda.jpg"}]),q=l(),z=d(),D=p(),$=({file:e,resolve:l})=>{z.confirm({msg:"是否选择",title:"提示"}).then((()=>{l(!0)})).catch((()=>{D.show("取消选择操作")}))},A=({resolve:e,file:l})=>{z.confirm({msg:"是否预览图片",title:"提示"}).then((()=>{e(!0)})).catch((()=>{D.show("取消预览操作")}))},B=({files:e,resolve:l})=>{z.confirm({msg:"是否上传",title:"提示"}).then((()=>{console.log(e,"files"),l(!0)})).catch((()=>{D.show("取消上传操作")}))},G=({file:e,fileList:l,resolve:t})=>{z.confirm({msg:"是否删除",title:"提示"}).then((()=>{D.success("删除成功"),t(!0)})).catch((()=>{D.show("取消删除操作")}))};function H(e){console.log("成功",e)}function J(e){console.log("失败",e)}function K(e){console.log("加载中",e)}function O({fileList:e}){L.value=e}function Q({fileList:e}){C.value=e}function R({fileList:e}){y.value=e}function V({fileList:e}){k.value=e}function W({fileList:e}){x.value=e}function X({fileList:e}){P.value=e}function Y({fileList:e}){U.value=e}function Z({fileList:e}){F.value=e}function ee({fileList:e}){T.value=e}function le({fileList:e}){E.value=e}function te({fileList:e}){M.value=e}const ie=(e,l,t)=>{c({url:j,header:t.header,name:t.name,fileName:t.name,fileType:t.fileType,formData:l,filePath:e.url,success(i){i.statusCode===t.statusCode?t.onSuccess(i,e,l):t.onError({...i,errMsg:i.errMsg||""},e,l)},fail(i){t.onError(i,e,l)}}).onProgressUpdate((l=>{t.onProgress(l,e)}))};return(e,l)=>{const c=t(i("wd-message-box"),m),d=t(i("wd-toast"),g),p=t(i("wd-upload"),h),z=t(i("demo-block"),_),D=t(i("wd-button"),w),ae=r,se=t(i("page-wraper"),v);return a(),s(se,null,{default:o((()=>[n(c),n(d),n(z,{title:"基本用法"},{default:o((()=>[n(p,{accept:"image","file-list":b.value,"onUpdate:fileList":l[0]||(l[0]=e=>b.value=e),"image-mode":"aspectFill",action:j},null,8,["file-list"])])),_:1}),n(z,{title:"最大上传数限制"},{default:o((()=>[n(p,{"file-list":C.value,limit:3,action:j,onChange:Q},null,8,["file-list"])])),_:1}),n(z,{title:"覆盖上传"},{default:o((()=>[n(p,{accept:"all",reupload:"","file-list":S.value,"onUpdate:fileList":l[1]||(l[1]=e=>S.value=e),"image-mode":"aspectFill",action:j},null,8,["file-list"])])),_:1}),n(z,{title:"拦截预览图片操作"},{default:o((()=>[n(p,{"file-list":y.value,action:j,onChange:R,"before-preview":A},null,8,["file-list"])])),_:1}),n(z,{title:"上传前置处理"},{default:o((()=>[n(p,{"file-list":k.value,action:j,onChange:V,"before-upload":B},null,8,["file-list"])])),_:1}),n(z,{title:"移除图片前置处理"},{default:o((()=>[n(p,{"file-list":x.value,action:j,onChange:W,"before-remove":G},null,8,["file-list"])])),_:1}),n(z,{title:"上传状态钩子"},{default:o((()=>[n(p,{"file-list":P.value,action:j,onChange:X,onSuccess:H,onFail:J,onProgress:K},null,8,["file-list"])])),_:1}),n(z,{title:"禁用"},{default:o((()=>[n(p,{"file-list":U.value,disabled:"",action:j,onChange:Y},null,8,["file-list"])])),_:1}),n(z,{title:"自定义唤起上传样式并限制上传5张"},{default:o((()=>[n(p,{"file-list":F.value,action:j,onChange:Z,limit:5},{default:o((()=>[n(D,null,{default:o((()=>[u("自定义唤起样式")])),_:1})])),_:1},8,["file-list"])])),_:1}),n(z,{title:"选择文件前置处理"},{default:o((()=>[n(p,{"file-list":T.value,action:j,onChange:ee,"before-choose":$},null,8,["file-list"])])),_:1}),n(z,{title:"上传视频"},{default:o((()=>[n(p,{accept:"video",multiple:"","file-list":L.value,action:j,onChange:O},null,8,["file-list"])])),_:1}),n(z,{title:"上传视频图片和文件"},{default:o((()=>[n(p,{accept:"all",multiple:"","file-list":E.value,action:j,onChange:le},null,8,["file-list"])])),_:1}),n(z,{title:"手动触发上传"},{default:o((()=>[n(p,{ref_key:"upload14",ref:q,"auto-upload":!1,"file-list":M.value,action:j,onChange:te},null,8,["file-list"]),n(D,{onClick:l[2]||(l[2]=e=>{var l;return null==(l=q.value)?void 0:l.submit()})},{default:o((()=>[u("开始上传")])),_:1})])),_:1}),n(z,{title:"自定义上传方法"},{default:o((()=>[n(p,{"file-list":I.value,"onUpdate:fileList":l[3]||(l[3]=e=>I.value=e),"upload-method":ie},null,8,["file-list"])])),_:1}),n(z,{title:"自定义预览样式"},{default:o((()=>[n(p,{"file-list":N.value,"onUpdate:fileList":l[4]||(l[4]=e=>N.value=e),accept:"image","image-mode":"aspectFill",action:j},{"preview-cover":o((({file:e,index:l})=>[n(ae,{class:"preview-cover"},{default:o((()=>[u(f(e.name||`文件${l}`),1)])),_:2},1024)])),_:1},8,["file-list"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-b0310cf3"]]);export{L as default};
