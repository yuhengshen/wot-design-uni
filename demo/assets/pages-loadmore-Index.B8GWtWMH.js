import{d as a,x as s,r as e,e as t,f as l,w as o,h as r,t as d,u as n,s as i,i as u,g as m,F as c,E as f,G as _,n as p,A as g,l as v,k as w,H as x,I as h,b as j,c as y,j as T,p as b}from"./index-ddWhPHnE.js";import{_ as k}from"./wd-divider.B7Cm37Z1.js";import{g as C,_ as I}from"./page-wraper.DJ6J_9uw.js";import{b as S,w as P,i as E,h as G,j as H,_ as q}from"./wd-icon.CdzlT4Xd.js";import{u as A}from"./useTranslate.D-OItNaP.js";import"./wd-cell.DKtYKzk0.js";import"./index.CM-GNf6Q.js";const F=q(a({name:"wd-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...S,state:String,loadingText:String,finishedText:String,errorText:String,loadingProps:Object},emits:["reload"],setup(a,{emit:x}){const h=s((()=>{const a=E(j.loadingProps)?G(j.loadingProps,H):{};return a.customClass=`wd-loadmore__loading ${a.customClass||""}`,a})),j=a,y=x,{translate:T}=A("loadmore"),b=e(null);function I(){"error"===j.state&&(b.value="loading",y("reload"))}return(a,s)=>{const e=v,x=w;return t(),l(x,{class:p(["wd-loadmore",a.customClass]),style:g(a.customStyle),onClick:I},{default:o((()=>["finished"===a.state?(t(),l(k,{key:0},{default:o((()=>[r(d(a.finishedText||n(T)("finished")),1)])),_:1})):i("",!0),"error"===a.state?(t(),u(c,{key:1},[m(e,{class:"wd-loadmore__text"},{default:o((()=>[r(d(a.errorText||n(T)("error")),1)])),_:1}),m(e,{class:"wd-loadmore__text is-light"},{default:o((()=>[r(d(n(T)("retry")),1)])),_:1}),m(P,{name:"refresh","custom-class":"wd-loadmore__refresh"})],64)):i("",!0),"loading"===a.state?(t(),u(c,{key:2},[m(C,f(_(h.value)),null,16),m(e,{class:"wd-loadmore__text"},{default:o((()=>[r(d(a.loadingText||n(T)("loading")),1)])),_:1})],64)):i("",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-80386a47"]]),L=q(a({__name:"Index",setup(a){const s=e("loading"),n=e(0),i=e(60);function f(){setTimeout((()=>{n.value=n.value+15,s.value="loading"}),200)}return x((()=>{45===n.value?s.value="error":n.value<i.value?f():n.value===i.value&&(s.value="finished")})),h((()=>{f()})),(a,e)=>{const i=b,_=w,p=j(y("wd-loadmore"),F),g=j(y("page-wraper"),I);return t(),l(g,null,{default:o((()=>[m(_,{class:"container"},{default:o((()=>[(t(!0),u(c,null,T(n.value,(a=>(t(),l(_,{key:a,class:"list-item"},{default:o((()=>[m(i,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),m(_,{class:"right"},{default:o((()=>[r("这是一条测试"+d(a+1),1)])),_:2},1024)])),_:2},1024)))),128)),m(p,{state:s.value,onReload:f},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-7db38e08"]]);export{L as default};
