import{d as s,x as a,r as e,e as o,f as r,w as l,g as i,n as t,A as d,z as n,s as c,a3 as u,p as m,k as g}from"./index-ddWhPHnE.js";import{b as h,c as w,d as v,q as y,i as p,a as f,o as b,_ as $}from"./wd-icon.CdzlT4Xd.js";const _=$(s({name:"wd-img",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...h,customImage:w(""),src:String,previewSrc:String,round:v(!1),mode:w("scaleToFill"),lazyLoad:v(!1),width:y,height:y,radius:y,enablePreview:v(!1),showMenuByLongpress:v(!1)},emits:["error","click","load"],setup(s,{emit:h}){const w=s,v=h,y=a((()=>{const s={};return p(w.height)&&(s.height=f(w.height)),p(w.width)&&(s.width=f(w.width)),p(w.radius)&&(s["border-radius"]=f(w.radius),s.overflow="hidden"),`${b(s)};${w.customStyle}`})),$=a((()=>`wd-img  ${w.round?"is-round":""} ${w.customClass}`)),_=e("loading");function k(s){_.value="error",v("error",s)}function z(s){w.enablePreview&&w.src&&"success"==_.value&&u({urls:[w.previewSrc||w.src]}),v("click",s)}function L(s){_.value="success",v("load",s)}return(s,a)=>{const e=m,u=g;return o(),r(u,{class:t($.value),onClick:z,style:d(y.value)},{default:l((()=>[i(e,{class:t(`wd-img__image ${s.customImage}`),style:d("success"!==_.value?"width: 0;height: 0;":""),src:s.src,mode:s.mode,"show-menu-by-longpress":s.showMenuByLongpress,"lazy-load":s.lazyLoad,onLoad:L,onError:k},null,8,["class","style","src","mode","show-menu-by-longpress","lazy-load"]),"loading"===_.value?n(s.$slots,"loading",{key:0},void 0,!0):c("",!0),"error"===_.value?n(s.$slots,"error",{key:1},void 0,!0):c("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-f12a2f94"]]);export{_};
