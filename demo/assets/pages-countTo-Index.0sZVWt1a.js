import{d as t,x as e,y as a,q as s,e as o,f as r,w as i,z as l,n,k as f,g as u,r as d,b as c,c as p}from"./index-ddWhPHnE.js";import{w as m}from"./wd-text.2aL2edQm.js";import{b as x,m as y,c as V,d as w,C as z,U as _,_ as j}from"./wd-icon.CdzlT4Xd.js";import{u as b}from"./useCountDown.DAdZ0B3S.js";import{_ as g}from"./demo-block.C_jTIrrw.js";import{_ as v,a as S}from"./wd-grid.CJzfel7Z.js";import{_ as h}from"./page-wraper.DJ6J_9uw.js";import"./dayjs.CnZDUnXN.js";import"./useRaf.DOkuWOZk.js";import"./wd-badge.C0Zs2Wt8.js";import"./wd-cell.DKtYKzk0.js";import"./useChildren.8_evwfA-.js";import"./index.CM-GNf6Q.js";const k=j(t({name:"wd-count-to",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...x,fontSize:y(16),color:V(""),type:V("default"),startVal:y(0),endVal:y(2024),duration:y(3e3),autoStart:w(!0),decimals:{type:Number,required:!1,default:0,validator:t=>t>=0},decimal:V("."),separator:V(","),prefix:V(""),suffix:V(""),useEasing:w(!0),customStyle:V(""),customClass:V("")},emits:["mounted","finish"],setup(t,{expose:d,emit:c}){const p=t,x=c,{start:y,pause:V,reset:w,current:j}=b({time:p.duration,millisecond:!0,onFinish:()=>x("finish")}),g=e((()=>`wd-count-to ${p.customClass}`)),v=e((()=>function(t){const{startVal:e,endVal:a,duration:s,useEasing:o}=p,r=s-t,i=e>a,l=r/s;let n;n=o?i?e-_(r,0,e-a,s)||0:_(r,e,a-e,s):i?e-(e-a)*l:e+(a-e)*l;return n=i?Math.max(a,n):Math.min(a,n),function(t){if("number"!=typeof t&&(t=parseFloat(t),isNaN(t)))return"0";const e=(t=t.toFixed(p.decimals)).split(".");let a=e[0];const s=e.length>1?p.decimal+e[1]:"",o=/(\d+)(\d{3})/;if(p.separator&&!z(p.separator))for(;o.test(a);)a=a.replace(o,"$1"+p.separator+"$2");return a+s}(n)}(j.value.total)));function S(){w(p.duration),p.autoStart&&y()}return a([()=>p.startVal,()=>p.endVal,()=>p.duration],S,{immediate:!1}),s((()=>{S(),x("mounted")})),d({start:y,reset:S,pause:V}),(t,e)=>{const a=f;return o(),r(a,{class:n(g.value)},{default:i((()=>[l(t.$slots,"prefix",{},(()=>[u(m,{type:p.type,color:p.color,size:.7*p.fontSize+"px",text:p.prefix},null,8,["type","color","size","text"])]),!0),l(t.$slots,"default",{},(()=>[u(m,{type:p.type,color:p.color,size:`${p.fontSize}px`,text:v.value},null,8,["type","color","size","text"])]),!0),l(t.$slots,"suffix",{},(()=>[u(m,{type:p.type,color:p.color,size:.7*p.fontSize+"px",text:p.suffix},null,8,["type","color","size","text"])]),!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-570f1aff"]]),$=t({__name:"Index",setup(t){const e=d(2024),a=d(),s=()=>{a.value.start()},l=()=>{a.value.pause()},n=()=>{a.value.reset()};return(t,f)=>{const d=c(p("wd-count-to"),k),m=c(p("demo-block"),g),x=c(p("wd-grid-item"),v),y=c(p("wd-grid"),S),V=c(p("page-wraper"),h);return o(),r(V,null,{default:i((()=>[u(m,{title:"基本用法"},{default:i((()=>[u(d,{endVal:e.value,suffix:"年",color:"#16baaa"},null,8,["endVal"]),u(d,{prefix:"￥",decimals:2,endVal:186.321,fontSize:32,suffix:"%",color:"#1e9fff"}),u(d,{prefix:"￥",decimals:2,endVal:21286.321,fontSize:32,suffix:"%",color:"#ff5722"}),u(d,{prefix:"￥",decimals:2,endVal:21286.321,fontSize:32,suffix:"%",color:"#ffb800",duration:2e3})])),_:1}),u(m,{title:"设置主题"},{default:i((()=>[u(d,{type:"primary",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),u(d,{type:"error",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),u(d,{type:"success",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),u(d,{type:"warning",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),u(d,{prefix:"￥",startVal:0,endVal:888888,suffix:"%"})])),_:1}),u(m,{title:"手动控制"},{default:i((()=>[u(d,{ref_key:"countTo",ref:a,"auto-start":!1,prefix:"￥",startVal:1e3,decimals:3,endVal:9999.32,fontSize:32,suffix:"%",color:"#1e9fff"},null,512),u(y,{clickable:"",border:""},{default:i((()=>[u(x,{text:"开始",icon:"play-circle-stroke",onItemclick:s}),u(x,{text:"暂停",icon:"pause-circle",onItemclick:l}),u(x,{text:"重置",icon:"refresh",onItemclick:n})])),_:1})])),_:1})])),_:1})}}});export{$ as default};
