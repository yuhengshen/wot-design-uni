import{g as e,e as t,a as l,b as a,_ as o}from"./page-wraper.DJ6J_9uw.js";import{d as s,r as i,x as n,b as d,c as r,e as u,f as c,w as y,g as p,s as v,i as k,F as m,h as x,t as b,n as w,k as _,y as f,z as h,j as g,A as C,l as I}from"./index-ddWhPHnE.js";import{_ as D}from"./wd-cell.DKtYKzk0.js";import{_ as T}from"./wd-cell-group.Bs14hx2Q.js";import{_ as U}from"./demo-block.C_jTIrrw.js";import{c as z,k as K,d as V,w as S,_ as j,b as A,m as B}from"./wd-icon.CdzlT4Xd.js";import{u as O}from"./useTouch.BqsCmmvV.js";import"./index.CM-GNf6Q.js";import"./useChildren.8_evwfA-.js";const $=j(s({name:"wd-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{type:z(""),text:K(""),wider:V(!1),large:V(!1),loading:V(!1)},emits:["press"],setup(t,{emit:l}){const a=t,o=l,s=O(),f=i(!1),h=n((()=>`wd-key ${a.large?"wd-key--large":""} ${"delete"===a.type?"wd-key--delete":""} ${"close"===a.type?"wd-key--close":""}`));function g(e){s.touchStart(e),f.value=!0}function C(e){s.touchMove(e),s.direction.value&&(f.value=!1)}function I(){f.value&&(f.value=!1,o("press",a.text,a.type))}return(t,l)=>{const o=d(r("wd-loading"),e),s=d(r("wd-icon"),S),i=_;return u(),c(i,{class:w("wd-key-wrapper "+(t.wider?"wd-key-wrapper--wider":"")),onTouchstart:g,onTouchmove:C,onTouchend:I},{default:y((()=>[p(i,{class:w(h.value)},{default:y((()=>[a.loading?(u(),c(o,{key:0,"custom-class":"wd-key__loading-icon"})):v("",!0),"delete"===t.type?(u(),k(m,{key:1},[t.text?(u(),k(m,{key:0},[x(b(t.text),1)],64)):(u(),c(s,{key:1,"custom-class":"wd-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===t.type?(u(),k(m,{key:2},[t.text?(u(),k(m,{key:0},[x(b(t.text),1)],64)):(u(),c(s,{key:1,"custom-class":"wd-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(u(),k(m,{key:3},[x(b(t.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-4e5f3a8a"]]),M={...A,visible:V(!1),modelValue:z(""),title:String,mode:z("default"),zIndex:B(100),maxlength:B(1/0),showDeleteKey:V(!0),randomKeyOrder:V(!1),closeText:String,deleteText:String,closeButtonLoading:V(!1),modal:V(!1),hideOnClickOutside:V(!0),lockScroll:V(!0),safeAreaInsetBottom:V(!0),extraKey:[String,Array]},P=["京","沪","粤","津","冀","豫","云","辽","黑","湘","皖","鲁","苏","浙","赣","鄂","桂","甘","晋","陕","蒙","吉","闽","贵","渝","川","青","琼","宁","挂","藏","港","澳","新","使","学"],E=[1,2,3,4,5,6,7,8,9,0,"Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],F=j(s({name:"wd-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:M,emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:l}){const a=e,o=l,s=i(a.visible);f((()=>a.visible),(e=>{s.value=e}));const d=i("zh"),r=n((()=>"car"!==a.mode?"custom"===a.mode?function(){const e=U(),t=Array.isArray(a.extraKey)?a.extraKey:[a.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...U(),{text:a.extraKey,type:"extra"},{text:0},{text:a.showDeleteKey?a.deleteText:"",type:a.showDeleteKey?"delete":""}]:function(){const[e,t]=function(){const e="zh"===d.value?P.map((e=>({text:e}))):E.map((e=>({text:e})));return[e.slice(0,30),e.slice(30)]}();return[...e,{text:"zh"===d.value?"ABC":"返回",type:"extra",wider:!0},...t,{text:a.deleteText,type:"delete",wider:!0}]}())),D=n((()=>a.closeText&&("default"===a.mode||"car"===a.mode))),T=n((()=>a.title||D.value));function U(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return a.randomKeyOrder?function(e){const t=[...e];for(let l=t.length-1;l>0;l--){const e=Math.floor(Math.random()*(l+1));[t[l],t[e]]=[t[e],t[l]]}return t}(e):e}const z=()=>{o("close"),o("update:visible",!1)},K=(e,t)=>{if("extra"===t){if(""===e)return z();if("ABC"===e||"返回"===e)return void(d.value="zh"===d.value?"en":"zh")}const l=a.modelValue;"delete"===t?(o("delete"),o("update:modelValue",l.slice(0,l.length-1))):"close"===t?z():l.length<+a.maxlength&&(o("input",e),o("update:modelValue",l+e))};return(e,l)=>{const a=I,o=_;return u(),c(t,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:z},{default:y((()=>[p(o,{class:w(`wd-keyboard ${e.customClass}`),style:C(e.customStyle)},{default:y((()=>[T.value?(u(),c(o,{key:0,class:"wd-keyboard__header"},{default:y((()=>[h(e.$slots,"title",{},(()=>[p(a,{class:"wd-keyboard__title"},{default:y((()=>[x(b(e.title),1)])),_:1})]),!0),D.value?(u(),c(o,{key:0,class:"wd-keyboard__close","hover-class":"wd-keyboard__close--hover",onClick:z},{default:y((()=>[p(a,null,{default:y((()=>[x(b(e.closeText),1)])),_:1})])),_:1})):v("",!0)])),_:3})):v("",!0),"car"!==e.mode?(u(),c(o,{key:1,class:"wd-keyboard__body"},{default:y((()=>[p(o,{class:"wd-keyboard__keys"},{default:y((()=>[(u(!0),k(m,null,g(r.value,(e=>(u(),c($,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:K},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(u(),c(o,{key:0,class:"wd-keyboard__sidebar"},{default:y((()=>[e.showDeleteKey?(u(),c($,{key:0,large:"",text:e.deleteText,type:"delete",onPress:K},null,8,["text"])):v("",!0),p($,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:K},null,8,["text","loading"])])),_:1})):v("",!0)])),_:1})):v("",!0),"car"===e.mode?(u(),c(o,{key:2,class:"wd-keyboard-car__body"},{default:y((()=>[p(o,{class:"wd-keyboard-car__keys"},{default:y((()=>[(u(!0),k(m,null,g(r.value,(e=>(u(),c($,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:K},null,8,["text","type","wider"])))),128))])),_:1})])),_:1})):v("",!0)])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}}),[["__scopeId","data-v-97860086"]]),G=s({__name:"Index",setup(e){const{show:t}=l(),s=i(!1),n=i(!1),c=i(!1),v=i(!1),b=i(!1),w=i(!1),_=i(!1),f=i(!1),h=i(!1),g=i(!1),C=[s,n,c,v,b,w,_,f,h,g],z=i("");function K(e){C.forEach(((t,l)=>t.value=l===e-1))}const V=e=>t(`${e}`),S=()=>t("删除");return(e,t)=>{const l=d(r("wd-toast"),a),i=d(r("wd-cell"),D),C=d(r("wd-cell-group"),T),j=d(r("demo-block"),U),A=d(r("wd-keyboard"),F),B=I,O=d(r("page-wraper"),o);return u(),k(m,null,[p(l),p(O,null,{default:y((()=>[p(j,{title:"基本用法",transparent:""},{default:y((()=>[p(C,{border:""},{default:y((()=>[p(i,{title:"默认键盘","is-link":"",onClick:t[0]||(t[0]=e=>K(1))}),p(i,{title:"带右侧栏的键盘","is-link":"",onClick:t[1]||(t[1]=e=>K(2))}),p(i,{title:"身份证键盘","is-link":"",onClick:t[2]||(t[2]=e=>K(3))}),p(i,{title:"带标题的键盘","is-link":"",onClick:t[3]||(t[3]=e=>K(4))}),p(i,{title:"slot自定义标题","is-link":"",onClick:t[4]||(t[4]=e=>K(9))}),p(i,{title:"多个额外按键","is-link":"",onClick:t[5]||(t[5]=e=>K(5))}),p(i,{title:"随机数字键盘","is-link":"",onClick:t[6]||(t[6]=e=>K(6))}),p(i,{title:"车牌号键盘","is-link":"",onClick:t[7]||(t[7]=e=>K(10))}),p(i,{title:"双向绑定",clickable:"",value:z.value,onClick:t[8]||(t[8]=e=>K(7))},null,8,["value"]),p(i,{title:"展示蒙层",clickable:"",onClick:t[9]||(t[9]=e=>K(8))})])),_:1})])),_:1}),p(A,{visible:s.value,"onUpdate:visible":t[10]||(t[10]=e=>s.value=e),onInput:V,onDelete:S},null,8,["visible"]),p(A,{visible:n.value,"onUpdate:visible":t[11]||(t[11]=e=>n.value=e),mode:"custom","extra-key":".","close-text":"完成",onInput:V,onDelete:S},null,8,["visible"]),p(A,{visible:c.value,"onUpdate:visible":t[12]||(t[12]=e=>c.value=e),"extra-key":"X","close-text":"完成",onInput:V,onDelete:S},null,8,["visible"]),p(A,{visible:v.value,"onUpdate:visible":t[13]||(t[13]=e=>v.value=e),title:"输入密码","extra-key":".","close-text":"完成",onInput:V,onDelete:S},null,8,["visible"]),p(A,{visible:h.value,"onUpdate:visible":t[14]||(t[14]=e=>h.value=e),"extra-key":".","close-text":"完成",onInput:V,onDelete:S},{title:y((()=>[p(B,{style:{color:"red"}},{default:y((()=>[x("自定义标题")])),_:1})])),_:1},8,["visible"]),p(A,{visible:b.value,"onUpdate:visible":t[15]||(t[15]=e=>b.value=e),mode:"custom","extra-key":["00","."],"close-text":"完成",onInput:V,onDelete:S},null,8,["visible","extra-key"]),p(A,{visible:w.value,"onUpdate:visible":t[16]||(t[16]=e=>w.value=e),"random-key-order":"",onInput:V,onDelete:S},null,8,["visible"]),p(A,{modelValue:z.value,"onUpdate:modelValue":t[17]||(t[17]=e=>z.value=e),maxlength:6,visible:_.value,"onUpdate:visible":t[18]||(t[18]=e=>_.value=e),title:"键盘标题","extra-key":".","close-text":"完成",onInput:V,onDelete:S},null,8,["modelValue","visible"]),p(A,{modal:!0,visible:f.value,"onUpdate:visible":t[19]||(t[19]=e=>f.value=e),onInput:V,onDelete:S},null,8,["visible"]),p(A,{visible:g.value,"onUpdate:visible":t[20]||(t[20]=e=>g.value=e),mode:"car",onInput:V,onDelete:S},null,8,["visible"])])),_:1})],64)}}});export{G as default};
