import{d as e,r as t,y as s,x as o,e as r,f as n,w as i,z as a,s as l,g as c,h as u,t as d,n as f,A as m,l as p}from"./index-ddWhPHnE.js";import{b as $,c as x,k as y,d as h,o as b,i as g,_ as w}from"./wd-icon.CdzlT4Xd.js";import{d as v}from"./dayjs.CnZDUnXN.js";const k=w(e({name:"wd-text",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...$,type:x("default"),text:y(""),size:x(""),mode:x("text"),decoration:x("none"),call:h(!1),bold:h(!1),format:h(!1),color:x(""),prefix:String,suffix:String,lines:Number,lineHeight:x(""),customStyle:x(""),customClass:x("")},emits:["click"],setup(e,{emit:$}){const x=e,y=$,h=t("");s((()=>({type:x.type,text:x.text,mode:x.mode,color:x.color,bold:x.bold,lines:x.lines,format:x.format})),(({type:e})=>{const t=["primary","error","warning","success","default"];e&&!t.includes(e)&&console.error(`type must be one of ${t.toString()}`),function(){const{type:e,color:t,bold:s,lines:o}=x,r=[];t||r.push(`is-${e}`);g(o)&&r.push(`is-lines-${o}`);s&&r.push("is-bold"),h.value=r.join(" ")}()}),{deep:!0,immediate:!0});const w=o((()=>`wd-text ${x.customClass} ${h.value}`)),k=o((()=>{const e={};return x.color&&(e.color=x.color),x.size&&(e["font-size"]=`${x.size}`),x.lineHeight&&(e["line-height"]=`${x.lineHeight}`),x.decoration&&(e["text-decoration"]=`${x.decoration}`),`${b(e)};${x.customStyle}`}));const j=o((()=>{const{text:e,mode:t,format:s}=x;return"date"===t?v(Number(e)).format("YYYY-MM-DD"):"price"===t?function(e){const t=(e=Number(e).toFixed(2)).split(".");let s=t[0];const o=t.length>1?"."+t[1]:"",r=/(\d+)(\d{3})/;for(;r.test(s);)s=s.replace(r,"$1,$2");return s+o}(e):function(e,t,s){if(t){if("phone"===s)return e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2");if("name"===s)return e.replace(/^(.).*(.)$/,"$1**$2");throw new Error("mode must be one of phone or name for encryption")}return e}(`${e}`,s,t)}));function z(e){y("click",e)}return(e,t)=>{const s=p;return r(),n(s,{onClick:z,class:f(w.value),style:m(k.value)},{default:i((()=>[e.$slots.prefix||e.prefix?a(e.$slots,"prefix",{key:0},(()=>[u(d(e.prefix),1)]),!0):l("",!0),c(s,null,{default:i((()=>[u(d(j.value),1)])),_:1}),e.$slots.suffix||e.suffix?a(e.$slots,"suffix",{key:1},(()=>[u(d(e.suffix),1)]),!0):l("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-878c8c4c"]]);export{k as w};
